<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>我爱你 2.0</title>
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css'>
  <link rel="stylesheet" href="./style.css">
  <style>
    /* 打字机文字样式 - 修复样式冲突，支持换行 */
    .typewriter-text {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2rem;
      font-weight: bold;
      color: #ff69b4;
      text-shadow: 0 0 10px rgba(255, 105, 180, 0.8);
      z-index: 1001;
      white-space: normal; /* 强制允许换行（修复原代码冲突） */
      overflow: hidden;
      font-family: "幼圆", "Microsoft YaHei", sans-serif;
      line-height: 1.8; /* 增大行间距，换行后更美观 */
      text-align: center; /* 换行后文字居中 */
      padding: 0 20px; /* 防止文字超出屏幕 */
    }

    /* 光标闪烁效果 */
    .cursor {
      animation: blink 1s infinite;
      color: #ff69b4;
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    @media (max-width: 768px) {
      .typewriter-text {
        font-size: 1.5rem;
        line-height: 1.6;
      }
    }
  </style>
</head>
<body>
  <a href="https://mp.weixin.qq.com/s/oxLqXBcLCT8ij67DjkW2kw" style="position: fixed; top: 5%; right: 10px; width: 30px; height: 30px; z-index: 1000; background: #696969; border-radius: 50%; padding: 1.0px; text-align: center; color: #ddd; text-decoration: none; line-height: 30px; font-size: 11px;"></a>
  <a href="https://pan.quark.cn/s/3344d23e48a8" style="position: fixed; top: 20%; right: 10px; width: 30px; height: 30px; z-index: 997; background: #696969; border-radius: 50%; padding: 1.0px; text-align: center; color: #ddd; text-decoration: none; line-height: 30px; font-size: 11px;"></a>
  <a href="https://drive.uc.cn/s/4819fdecb8a24" style="position: fixed; top: 15%; right: 10px; width: 30px; height: 30px; z-index: 998; background: #696969; border-radius: 50%; padding: 1.0px; text-align: center; color: #ddd; text-decoration: none; line-height: 30px; font-size: 11px;"></a>
  <a href="https://pan.xunlei.com/s/VNlDcB3ABz0oNSOEv5mpSE_tA1?pwd=97rw#" style="position: fixed; top: 10%; right: 10px; width: 30px; height: 30px; z-index: 999; background: #696969; border-radius: 50%; padding: 1.0px; text-align: center; color: #ddd; text-decoration: none; line-height: 30px; font-size: 11px;"></a>
  <a href="https://shop1619956412.v.weidian.com/?userid=1619956412&spider_token=2720" style="position: fixed; top: 25%; right: 10px; width: 30px; height: 30px; z-index: 996; background: #696969; border-radius: 50%; padding: 1.0px; text-align: center; color: #ddd; text-decoration: none; line-height: 30px; font-size: 11px;"></a>
 
  <!-- 打字机容器 -->
  <div class="typewriter-text">
    <span id="typewriter"></span><span class="cursor">|</span>
  </div>

  <!-- tsParticles container -->
  <div id="tsparticles"></div>

  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <script src='https://cdn.jsdelivr.net/npm/tsparticles@1.34.0/tsparticles.min.js'></script>
  <script src="./script.js"></script>
  
  <script>
    // 适配旧版编辑器：用var替代const/let，简化选择器
    var text = "有很多话想说，但又不知道从何说起，\n所以最后只能汇聚成——我爱你！";
    var typewriterElement = document.getElementById('typewriter');
    // 旧版DW可能对querySelector支持差，改用getElementsByClassName
    var cursorElement = document.getElementsByClassName('cursor')[0];
    var index = 0; // 修复变量名错误（原代码用了typeIndex）
    var speed = 150; // 打字速度，单位ms

    // 修复换行逻辑+变量名错误
    function type() {
      if (index < text.length) {
        var char = text.charAt(index);
        // 处理换行符：替换\n为<br>标签（修复typeEl未定义问题）
        if (char === "\n") {
          typewriterElement.innerHTML += "<br>"; // 换行
        } else {
          typewriterElement.textContent += char; // 普通字符（兼容所有浏览器）
        }
        index++; // 修复变量名错误（原代码用了typeIndex）
        setTimeout(type, speed);
      } else {
        // 文字打完后光标正常闪烁
        cursorElement.style.animation = "blink 1s infinite";
      }
    }

    // 页面加载后执行
    window.onload = function() {
      type();
    };
  </script>
</body>
</html>
